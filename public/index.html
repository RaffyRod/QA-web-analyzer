<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>QA Web Analyzer - Accessibility Checker</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="alternate icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-top">
          <!-- Desktop controls (visible on desktop) -->
          <div class="header-controls desktop-controls">
            <div class="language-toggle">
              <input type="checkbox" id="languageToggle" class="language-toggle-input" />
              <label for="languageToggle" class="language-toggle-label">
                <span class="toggle-option" data-lang="en">US</span>
                <span class="toggle-separator">/</span>
                <span class="toggle-option" data-lang="es">ES</span>
              </label>
            </div>
            <div class="theme-selector">
              <button
                id="themeButton"
                class="theme-button"
                aria-expanded="false"
                aria-haspopup="true"
                title="Theme"
              >
                <svg
                  class="theme-button-icon"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                >
                  <rect x="3" y="3" width="7" height="7" fill="#ef4444" />
                  <rect x="14" y="3" width="7" height="7" fill="#3b82f6" />
                  <rect x="3" y="14" width="7" height="7" fill="#10b981" />
                  <rect x="14" y="14" width="7" height="7" fill="#f59e0b" />
                </svg>
              </button>
              <div id="themeDropdown" class="theme-dropdown hidden">
                <button class="theme-option" data-theme="light">Light Mode</button>
                <button class="theme-option" data-theme="dark">Dark Mode</button>
                <button class="theme-option" data-theme="flat">Flat Design</button>
                <button class="theme-option" data-theme="material">Material Design</button>
                <button class="theme-option" data-theme="glassmorphism">Glassmorphism</button>
                <button class="theme-option" data-theme="cyberpunk">Cyberpunk</button>
                <button class="theme-option" data-theme="minimal">Minimal</button>
                <button class="theme-option" data-theme="ocean">Ocean</button>
                <button class="theme-option" data-theme="sunset">Sunset</button>
                <button class="theme-option" data-theme="forest">Forest</button>
                <button class="theme-option" data-theme="monochrome">Monochrome</button>
                <button class="theme-option" data-theme="highContrast">High Contrast</button>
                <button class="theme-option" data-theme="blue">Blue Theme</button>
                <button class="theme-option" data-theme="green">Green Theme</button>
                <button class="theme-option" data-theme="purple">Purple Theme</button>
                <button class="theme-option" data-theme="rose">Rose</button>
                <button class="theme-option" data-theme="amber">Amber</button>
                <button class="theme-option" data-theme="teal">Teal</button>
              </div>
            </div>
          </div>

          <!-- Mobile hamburger menu button (visible on mobile) -->
          <button
            id="mobileMenuToggle"
            class="mobile-menu-toggle"
            aria-expanded="false"
            aria-label="Menu"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              width="24"
              height="24"
            >
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>

          <!-- Mobile menu (hidden by default) -->
          <div id="mobileMenu" class="mobile-menu hidden">
            <div class="mobile-menu-content">
              <div class="language-toggle">
                <input type="checkbox" id="languageToggleMobile" class="language-toggle-input" />
                <label for="languageToggleMobile" class="language-toggle-label">
                  <span class="toggle-option" data-lang="en">US</span>
                  <span class="toggle-separator">/</span>
                  <span class="toggle-option" data-lang="es">ES</span>
                </label>
              </div>
              <div class="theme-selector">
                <button
                  id="themeButtonMobile"
                  class="theme-button"
                  aria-expanded="false"
                  aria-haspopup="true"
                  title="Theme"
                >
                  <svg
                    class="theme-button-icon"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                  >
                    <rect x="3" y="3" width="7" height="7" fill="#ef4444" />
                    <rect x="14" y="3" width="7" height="7" fill="#3b82f6" />
                    <rect x="3" y="14" width="7" height="7" fill="#10b981" />
                    <rect x="14" y="14" width="7" height="7" fill="#f59e0b" />
                  </svg>
                </button>
                <div id="themeDropdownMobile" class="theme-dropdown hidden">
                  <button class="theme-option" data-theme="light">Light Mode</button>
                  <button class="theme-option" data-theme="dark">Dark Mode</button>
                  <button class="theme-option" data-theme="flat">Flat Design</button>
                  <button class="theme-option" data-theme="material">Material Design</button>
                  <button class="theme-option" data-theme="glassmorphism">Glassmorphism</button>
                  <button class="theme-option" data-theme="cyberpunk">Cyberpunk</button>
                  <button class="theme-option" data-theme="minimal">Minimal</button>
                  <button class="theme-option" data-theme="ocean">Ocean</button>
                  <button class="theme-option" data-theme="sunset">Sunset</button>
                  <button class="theme-option" data-theme="forest">Forest</button>
                  <button class="theme-option" data-theme="monochrome">Monochrome</button>
                  <button class="theme-option" data-theme="highContrast">High Contrast</button>
                  <button class="theme-option" data-theme="blue">Blue Theme</button>
                  <button class="theme-option" data-theme="green">Green Theme</button>
                  <button class="theme-option" data-theme="purple">Purple Theme</button>
                  <button class="theme-option" data-theme="rose">Rose</button>
                  <button class="theme-option" data-theme="amber">Amber</button>
                  <button class="theme-option" data-theme="teal">Teal</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="header-title-group">
          <svg
            class="header-icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
            focusable="false"
          >
            <path d="M9 11l3 3L22 4"></path>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
          <h1 data-i18n="title">QA Web Analyzer</h1>
        </div>
        <p class="subtitle" data-i18n="subtitle">Accessibility Analysis Tool</p>
      </header>

      <div class="input-section">
        <div class="input-group">
          <input
            type="text"
            id="urlInput"
            class="url-input-compact"
            data-i18n="urlPlaceholder"
            placeholder="Enter URL (e.g., http://localhost:3000 or https://example.com)"
            value=""
          />
          <div class="button-group">
            <button id="analyzeBtn" class="btn-primary" data-i18n="analyzeBtn">Analyze</button>
            <button
              id="wcagInfoToggle"
              class="btn-info"
              aria-expanded="false"
              title="WCAG Information"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                width="20"
                height="20"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
              </svg>
            </button>
            <button id="stopBtn" class="btn-stop hidden" data-i18n="stopBtn">Stop</button>
          </div>
        </div>

        <div class="options-section">
          <h3 data-i18n="analysisOptions">Analysis Options</h3>
          <!-- WCAG Info Modal - Discreet but notable -->
          <div class="wcag-info-modal hidden" id="wcagInfoSection">
            <div class="wcag-modal-overlay"></div>
            <div class="wcag-modal-content">
              <div class="wcag-modal-header">
                <h4>üìö WCAG 2.2 AA Guidelines Reference</h4>
                <button class="wcag-modal-close" id="wcagInfoClose" aria-label="Close">√ó</button>
              </div>
              <div class="wcag-info-content">
                <div class="wcag-info-grid">
                  <div class="wcag-item">
                    <strong>Alt Text</strong>
                    <p>
                      <strong>WCAG 1.1.1 (Level A):</strong> Images must have alt text. Decorative
                      images should have empty alt="". Informative images must have descriptive alt
                      text.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-label</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> Provides an accessible name for
                      elements. Must be present when element lacks visible text or when text is not
                      descriptive enough.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-labelledby</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> References element IDs that provide the
                      accessible name. Alternative to aria-label when label exists elsewhere in DOM.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-describedby</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> References element IDs providing
                      additional descriptive information. Complements accessible name with extended
                      description.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-hidden</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> Should be "true" only for decorative
                      elements. Misuse: aria-hidden="true" on elements with accessible content or
                      interactive elements.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-expanded</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> Indicates expandable/collapsible state
                      (true/false). Should be used with aria-controls to establish relationship with
                      controlled element.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-controls</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> Establishes relationship between
                      controlling element and controlled content. References ID of controlled
                      element.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-current</strong>
                    <p>
                      <strong>WCAG 4.1.2 (Level A):</strong> Indicates current item in set (page,
                      step, location). Values: "page", "step", "location", "date", "time", "true".
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-required</strong>
                    <p>
                      <strong>WCAG 3.3.2 (Level A):</strong> Indicates user input is required.
                      Should be "true" for required form fields. Must be paired with visual
                      indication.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>aria-invalid</strong>
                    <p>
                      <strong>WCAG 3.3.1 (Level A):</strong> Indicates invalid input state. Values:
                      "true", "false", "grammar", "spelling". Should be set when validation fails.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>tabindex</strong>
                    <p>
                      <strong>WCAG 2.4.3 (Level A):</strong> Positive tabindex values
                      (tabindex="1"+) are anti-patterns. Use tabindex="0" for programmatic focus or
                      -1 to remove from tab order.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>lang attribute</strong>
                    <p>
                      <strong>WCAG 3.1.1 (Level A):</strong> Specifies language of content. Required
                      on &lt;html&gt; element. Use for content in different language than page
                      default.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>&lt;label&gt; elements</strong>
                    <p>
                      <strong>WCAG 1.3.1, 3.3.2 (Level A):</strong> Form inputs must have associated
                      &lt;label&gt; elements. Labels provide accessible names and improve form
                      usability.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>title attribute</strong>
                    <p>
                      <strong>WCAG 2.4.6 (Level AAA):</strong> Provides additional tooltip
                      information. Not sufficient alone for accessibility - should complement other
                      accessible names.
                    </p>
                  </div>
                  <div class="wcag-item">
                    <strong>Focus States</strong>
                    <p>
                      <strong>WCAG 2.4.7 (Level AA):</strong> Interactive elements must have visible
                      focus indicators. Focus must be clearly distinguishable with at least 2:1
                      contrast ratio.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="options-grid">
            <div class="option-group">
              <div class="option-group-header">
                <h4 data-i18n="elementsToCheck">Elements to Check</h4>
                <div class="radio-group">
                  <label class="radio-label">
                    <input type="radio" name="elementsSelection" value="all" id="elementsAll" />
                    <span>All</span>
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="elementsSelection" value="none" id="elementsNone" />
                    <span>None</span>
                  </label>
                </div>
              </div>
              <label>
                <input type="checkbox" id="checkImages" />
                <span data-i18n="images">Images</span>
              </label>
              <label>
                <input type="checkbox" id="checkLinks" />
                <span data-i18n="links">Links</span>
              </label>
              <label>
                <input type="checkbox" id="checkButtons" />
                <span data-i18n="buttons">Buttons</span>
              </label>
              <label>
                <input type="checkbox" id="checkInputs" />
                <span data-i18n="inputs">Inputs</span>
              </label>
              <label>
                <input type="checkbox" id="checkRoles" />
                <span data-i18n="elementsWithRole">Elements with Role</span>
              </label>
            </div>
            <div class="option-group attributes-group">
              <div class="option-group-header">
                <h4 data-i18n="attributesToCheck">Attributes to Check</h4>
                <div class="radio-group">
                  <label class="radio-label">
                    <input type="radio" name="attributesSelection" value="all" id="attributesAll" />
                    <span>All</span>
                  </label>
                  <label class="radio-label">
                    <input
                      type="radio"
                      name="attributesSelection"
                      value="none"
                      id="attributesNone"
                    />
                    <span>None</span>
                  </label>
                </div>
              </div>
              <label>
                <input type="checkbox" id="checkAltText" />
                <span data-i18n="altText">Alt Text</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaLabel" />
                <span data-i18n="ariaLabel">aria-label</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaLabelledby" />
                <span data-i18n="ariaLabelledby">aria-labelledby</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaDescribedby" />
                <span data-i18n="ariaDescribedby">aria-describedby</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaHidden" />
                <span data-i18n="ariaHidden">aria-hidden (misuse check)</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaExpanded" />
                <span data-i18n="ariaExpanded">aria-expanded</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaControls" />
                <span data-i18n="ariaControls">aria-controls</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaCurrent" />
                <span data-i18n="ariaCurrent">aria-current</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaRequired" />
                <span data-i18n="ariaRequired">aria-required</span>
              </label>
              <label>
                <input type="checkbox" id="checkAriaInvalid" />
                <span data-i18n="ariaInvalid">aria-invalid</span>
              </label>
              <label>
                <input type="checkbox" id="checkTabIndex" />
                <span data-i18n="tabIndex">tabindex (anti-pattern check)</span>
              </label>
              <label>
                <input type="checkbox" id="checkLang" />
                <span data-i18n="lang">lang attribute</span>
              </label>
              <label>
                <input type="checkbox" id="checkLabels" />
                <span data-i18n-html="labelElements">&lt;label&gt; elements</span>
              </label>
              <label>
                <input type="checkbox" id="checkTitle" />
                <span data-i18n="titleAttribute">title attribute</span>
              </label>
              <label>
                <input type="checkbox" id="checkHref" />
                <span data-i18n="hrefAttribute">href attribute (for links)</span>
              </label>
              <label>
                <input type="checkbox" id="checkFocusStates" />
                <span data-i18n="focusStates">Focus States (WCAG 2.2 AA)</span>
              </label>
            </div>
          </div>
        </div>

        <div id="loading" class="loading hidden">
          <div class="spinner"></div>
          <span data-i18n="analyzing">Analyzing page...</span>
        </div>
      </div>

      <div id="error" class="error hidden"></div>

      <div id="results" class="results hidden">
        <div class="export-section">
          <div class="export-buttons">
            <button id="exportPdfBtn" class="btn-export" data-i18n="exportAsPDF">
              üìÑ Export as PDF
            </button>
          </div>
        </div>
        <div class="summary-section">
          <h2 data-i18n="summary">Summary</h2>
          <div class="summary-grid" id="summaryGrid"></div>
        </div>

        <div class="filters-section">
          <h2 data-i18n="filters">Filters</h2>
          <div class="filter-group">
            <label>
              <input type="checkbox" id="filterMissing" checked />
              <span data-i18n="showMissing">Show only missing accessibility attributes</span>
            </label>
            <label>
              <input type="checkbox" id="filterHasAttributes" checked />
              <span data-i18n="showHasAttributes">Show elements with accessibility attributes</span>
            </label>
          </div>
          <div class="section-filters">
            <h3 data-i18n="showSections">Show Sections</h3>
            <div class="section-filter-group">
              <label>
                <input type="checkbox" id="showImages" checked />
                <span>üñºÔ∏è <span data-i18n="imagesAltText">Images</span></span>
              </label>
              <label>
                <input type="checkbox" id="showLinks" checked />
                <span>üîó <span data-i18n="links">Links</span></span>
              </label>
              <label>
                <input type="checkbox" id="showButtons" checked />
                <span>üîò <span data-i18n="buttons">Buttons</span></span>
              </label>
              <label>
                <input type="checkbox" id="showInputs" checked />
                <span>üìù <span data-i18n="inputs">Inputs</span></span>
              </label>
              <label>
                <input type="checkbox" id="showRoles" checked />
                <span>üé≠ <span data-i18n="elementsWithRole">Roles</span></span>
              </label>
            </div>
          </div>
        </div>

        <div class="sections">
          <section class="result-section" id="imagesSection" data-section="images">
            <h2 class="section-header" data-section-toggle="images">
              <span class="toggle-icon">‚ñº</span>
              <span class="icon">üñºÔ∏è</span>
              <span data-i18n="imagesAltText">Images (Alt Text)</span>
              <span class="count" id="imagesCount"></span>
            </h2>
            <div class="results-list" id="imagesList"></div>
          </section>

          <section class="result-section" id="linksSection" data-section="links">
            <h2 class="section-header" data-section-toggle="links">
              <span class="toggle-icon">‚ñº</span>
              <span class="icon">üîó</span>
              <span data-i18n="links">Links</span>
              <span class="count" id="linksCount"></span>
            </h2>
            <div class="results-list" id="linksList"></div>
          </section>

          <section class="result-section" id="buttonsSection" data-section="buttons">
            <h2 class="section-header" data-section-toggle="buttons">
              <span class="toggle-icon">‚ñº</span>
              <span class="icon">üîò</span>
              <span data-i18n="buttons">Buttons</span>
              <span class="count" id="buttonsCount"></span>
            </h2>
            <div class="results-list" id="buttonsList"></div>
          </section>

          <section class="result-section" id="inputsSection" data-section="inputs">
            <h2 class="section-header" data-section-toggle="inputs">
              <span class="toggle-icon">‚ñº</span>
              <span class="icon">üìù</span>
              <span data-i18n="inputs">Inputs</span>
              <span class="count" id="inputsCount"></span>
            </h2>
            <div class="results-list" id="inputsList"></div>
          </section>

          <section class="result-section" id="rolesSection" data-section="roles">
            <h2 class="section-header" data-section-toggle="roles">
              <span class="toggle-icon">‚ñº</span>
              <span class="icon">üé≠</span>
              <span data-i18n="elementsWithRole">Elements with Role</span>
              <span class="count" id="rolesCount"></span>
            </h2>
            <div class="results-list" id="rolesList"></div>
          </section>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="js/themes.js"></script>
    <script src="js/export.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
